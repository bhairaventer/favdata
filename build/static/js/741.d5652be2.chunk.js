"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[741],{1741:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(5043),r=s(3216),l=s(5475),n=s(6213),c=s(2684),o=s(579);function d(){const{summary:e}=(0,a.useContext)(c.A),[t,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{null!==e&&void 0!==e&&e._id&&r(e._id)}),[e]);const r=async e=>{try{let t=localStorage.getItem("token");const a=await n.A.get(`http://127.0.0.1:5000/api/purchase/stock-summary/${e}`,{headers:{authtoken:t}});s(a.data)}catch(t){console.error("Error fetching product:",t)}};return(0,o.jsx)("div",{className:"container mx-auto p-6 bg-gray-50 min-h-screen flex items-center justify-center",children:(0,o.jsx)("div",{className:"w-full max-w-lg bg-white p-8 rounded-lg shadow-lg",children:t&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-4xl font-extrabold mb-6 text-center text-indigo-600",children:t.productName}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Purchased Stock:"})," ",t.purchasedStock]}),(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Remaining Stock:"})," ",t.remainingStock]}),(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Total Sold:"})," ",t.totalSold]}),(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Total Amount:"})," \u20b9",t.totalAmount]}),(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Sold Amount:"})," \u20b9",t.soldAmount]}),(0,o.jsxs)("p",{className:"text-lg",children:[(0,o.jsx)("span",{className:"font-semibold",children:"Remaining Amount:"})," \u20b9",t.remainingAmount]})]})]})})})}var i=s(3986);const h=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(""),[l,d]=(0,a.useState)(null),[h,m]=(0,a.useState)(""),u="http://127.0.0.1:5000",[x,p]=(0,a.useState)(""),{userrole:g}=(0,a.useContext)(c.A),b={headers:{authtoken:localStorage.getItem("token")}};(0,a.useEffect)((()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const s=await n.A.get(`${u}/api/category/fetchallcategory`,{...b,params:{name:e}});t(s.data)}catch(s){console.error("Error fetching categories:",s)}}(h)}),[h]);const[j,f]=(0,a.useState)(!1),y=()=>{f(!0)};return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-100 p-8",children:[(0,o.jsx)("div",{className:"App",children:(0,o.jsx)(i.A,{show:j,onClose:()=>{f(!1)},message:x})}),(0,o.jsxs)("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Manage Categories"}),(0,o.jsx)("input",{type:"text",placeholder:"Search categories by name...",value:h,onChange:e=>m(e.target.value),className:"mb-4 p-2 border border-gray-300 rounded w-full"}),(0,o.jsx)("form",{onSubmit:a=>{a.preventDefault(),l?(async a=>{try{const l=await n.A.put(`${u}/api/category/updatecategory/${a}`,{name:s},b);t(e.map((e=>e._id===a?l.data.category:e))),d(null),r("")}catch(l){console.error("Error updating category:",l)}})(l):(async()=>{if(!(s.trim().length<3))try{const a=await n.A.post(`${u}/api/category/addcategory`,{name:s},b);a.data.success?(p((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-green-600 font-semibold text-lg mb-2",children:a.data.message}),(0,o.jsx)("div",{className:"relative w-full h-2 rounded-full overflow-hidden bg-green-200 mt-4",children:(0,o.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500 animate-progress-bar2",style:{animationDuration:"0.5s"}})})]})),y(),t([...e,a.data.data]),r("")):(p((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"text-red-600 font-semibold text-lg mb-2",children:a.data.message}),(0,o.jsx)("div",{className:"relative w-full h-2 rounded-full overflow-hidden bg-red-200 mt-4",children:(0,o.jsx)("div",{className:"absolute top-0 left-0 h-full bg-red-500 animate-progress-bar2",style:{animationDuration:"0.5s"}})})]})),y(),r(""))}catch(a){console.error("Error adding category:",a)}})()},className:"mb-6",children:g.canAdd&&(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),placeholder:"Category Name",className:"p-2 border rounded-md w-full mr-2",required:!0}),(0,o.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded-md",children:l?"Update":"Add"})]})}),(0,o.jsx)("ul",{className:"space-y-2 h-[400px]    overflow-y-auto",children:e.map((s=>(0,o.jsxs)("li",{className:"flex justify-between items-center bg-gray-200 p-2 rounded-md",children:[(0,o.jsx)("span",{children:s.name}),(0,o.jsxs)("div",{children:[g.canEdit&&(0,o.jsx)("button",{onClick:()=>{d(s._id),r(s.name)},className:"bg-yellow-500 text-white p-1 rounded-md mr-2",children:"Edit"}),g.canDelete&&(0,o.jsx)("button",{onClick:()=>(async s=>{try{await n.A.delete(`${u}/api/category/deletecategory/${s}`,b),t(e.filter((e=>e._id!==s)))}catch(a){console.error("Error deleting category:",a)}})(s._id),className:"bg-red-500 text-white p-1 rounded-md",children:"Delete"})]})]},s._id)))})]})]})},m=(0,a.lazy)((()=>s.e(593).then(s.bind(s,2593)))),u=(0,a.lazy)((()=>s.e(194).then(s.bind(s,2194)))),x=(0,a.lazy)((()=>s.e(318).then(s.bind(s,1318)))),p=(0,a.lazy)((()=>s.e(846).then(s.bind(s,6846)))),g=(0,a.lazy)((()=>s.e(127).then(s.bind(s,5127)))),b=(0,a.lazy)((()=>s.e(82).then(s.bind(s,9082)))),j=(0,a.lazy)((()=>s.e(3).then(s.bind(s,4003)))),f=(0,a.lazy)((()=>Promise.resolve().then(s.bind(s,2565))));function y(e){document.body.style.backgroundColor="#f6f6f6";const{userrole:t}=(0,a.useContext)(c.A),s=(0,r.zy)();return(0,a.useEffect)((()=>{const e=document.querySelector(".topnavbar").querySelectorAll(".child");e.forEach((e=>{e.style.color="white",e.style.backgroundColor="#31344f"}));let t=s.pathname;t.includes("/home/products/SinglePurchase")&&(t="/home/products/Purchase");const a=Array.from(e).find((e=>e.getAttribute("href")===t));a&&(a.style.color="black",a.style.backgroundColor="#a0afc5")}),[s]),(0,o.jsxs)("div",{className:"md:w-[85%] lg:w-[90%] w-[100%] px-[20px] mt-16",children:[(0,o.jsxs)("div",{className:"flex justify-between text-white w-[100%]",children:[(0,o.jsx)("div",{className:"lg:text-xl text-lg font-semibold",children:"Products"}),(0,o.jsxs)("div",{className:"flex lg:space-x-4 lg:text-sm text-[10px] space-x-2",children:[(0,o.jsx)(l.N_,{to:"/",children:"Dashboard"}),(0,o.jsx)(l.N_,{to:"/home/reports",children:"Reports"}),(0,o.jsx)("div",{children:" "})]})]}),(0,o.jsxs)("div",{className:"bg-[white] rounded-md mt-2 px-3 py-6",children:[(0,o.jsxs)("div",{className:"bg-[#31344f] flex gap-2 text-white p-3 rounded-md flex-wrap topnavbar",children:[(0,o.jsx)(l.N_,{to:"",className:"rounded-full text-black cursor-pointer child bg-[#a0afc5] px-2",children:"Products"}),(0,o.jsx)(l.N_,{to:"./combo",className:"rounded-full text-black cursor-pointer child bg-[#a0afc5] px-2",children:"Combo"}),(0,o.jsx)(l.N_,{to:"./Purchase",className:"rounded-full text-black cursor-pointer child bg-[#a0afc5] px-2",children:"Purchase"}),(0,o.jsx)(l.N_,{to:"./category",className:"rounded-full text-black cursor-pointer child bg-[#a0afc5] px-2",children:"Category"}),t.canAdd&&(0,o.jsx)(l.N_,{to:"./create-product",className:"rounded-full px-2 child cursor-pointer",children:"Create Product"}),t.canAdd&&(0,o.jsx)(l.N_,{to:"./create-Purchase",className:"rounded-full px-2 child cursor-pointer",children:"Create Purchase"}),t.canAdd&&(0,o.jsx)(l.N_,{to:"./create-combo",className:"rounded-full px-2 child cursor-pointer",children:"Create Combo"})]}),(0,o.jsx)("div",{className:"scroll-container pb-3",style:{overflowX:"auto"},children:(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsxs)(r.BV,{children:[(0,o.jsx)(r.qh,{path:"/",element:(0,o.jsx)(m,{})}),(0,o.jsx)(r.qh,{path:"purchase",element:(0,o.jsx)(u,{})}),(0,o.jsx)(r.qh,{path:"combo",element:(0,o.jsx)(j,{})}),t.canAdd&&(0,o.jsx)(r.qh,{path:"create-Purchase",element:(0,o.jsx)(x,{})}),t.canAdd&&(0,o.jsx)(r.qh,{path:"create-product",element:(0,o.jsx)(p,{})}),t.canAdd&&(0,o.jsx)(r.qh,{path:"create-combo",element:(0,o.jsx)(g,{})}),(0,o.jsx)(r.qh,{path:"SinglePurchase",element:(0,o.jsx)(b,{})}),(0,o.jsx)(r.qh,{path:"Singleproduct",element:(0,o.jsx)(d,{})}),(0,o.jsx)(r.qh,{path:"category",element:(0,o.jsx)(h,{})}),(0,o.jsx)(r.qh,{path:"*",element:(0,o.jsx)(f,{})})]})})}),(0,o.jsx)("style",{jsx:!0,children:"\n          .scroll-container::-webkit-scrollbar {\n            width: 10px;\n            height: 10px;\n          }\n          .scroll-container::-webkit-scrollbar-track {\n            background: white;\n            border: 1px #888888 solid;\n          }\n          .scroll-container::-webkit-scrollbar-thumb {\n            background: #888;\n            border-radius: 10px;\n          }\n          .scroll-container::-webkit-scrollbar-thumb:hover {\n            background: #555;\n          }\n        "})]})]})}},3986:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(5043),r=s(5369),l=s(579);const n=e=>{let{show:t,onClose:s,message:n}=e;if(a.useEffect((()=>{if(t){const e=setTimeout((()=>{s()}),500);return()=>clearTimeout(e)}}),[t,s]),!t)return null;return(0,l.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:[(0,l.jsx)("style",{children:"\n        @keyframes progress-bar {\n            0% { width: 0%; }\n            100% { width: 100%; }\n        }\n    "}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl relative transform transition-transform duration-300 ease-out scale-95",children:[n,(0,l.jsx)("button",{onClick:s,className:"absolute top-2 right-2 text-red-500 hover:text-red-700 transition-colors duration-200 ease-in-out","aria-label":"Close",children:(0,l.jsx)(r.QCr,{size:18})})]})]})}}}]);
//# sourceMappingURL=741.d5652be2.chunk.js.map