{"version":3,"file":"static/js/699.e3a39a8e.chunk.js","mappings":"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","sources":["component/courier/courier.js"],"sourcesContent":["\r\n\r\nimport { MdSpaceDashboard ,MdProductionQuantityLimits,MdDeliveryDining  } from \"react-icons/md\";\r\nimport { FaShoppingBag } from \"react-icons/fa\";\r\nimport { GiReturnArrow } from \"react-icons/gi\";\r\n import { MdReport } from \"react-icons/md\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport DataContext from \"../usecontext/DataContext\";\r\n\r\nexport default  function Courier1 (params) {\r\n\r\n  // fetchallcourier\r\n  const [data, setData] = useState([]);\r\n  const [courierdata, setcourierdata] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const apiKey = \"https://backend-mqr6.onrender.com\"\r\n  const { userrole } = useContext(DataContext);\r\n\r\n\r\n  useEffect(() => {\r\n      fetchcourier()\r\n      fetchcourierdetail()\r\n  }, []);\r\n\r\n   let fetchcourier = ()=>{\r\n    let token = localStorage.getItem('token')\r\n\r\n      axios.get(`${apiKey}/api/courier/fetchallcourier`,{\r\n        method: 'GET',\r\n        headers:{\r\n             \r\n            'authtoken': token\r\n        },\r\n    })\r\n      .then(response => {\r\n          setLoading(false);\r\n        setData(response.data);\r\n       })\r\n      .catch(error => {\r\n        setError(error);\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  \r\n  let fetchcourierdetail = ()=>{\r\n    let token = localStorage.getItem(\"token\")\r\n      axios.get(`${apiKey}/api/courier/fetchallcourierdetail`,{\r\n        method: 'GET',\r\n        headers:{\r\n             \r\n            'authtoken': token\r\n        },\r\n    })\r\n      .then(response => {\r\n          setLoading(false);\r\n          setcourierdata(response.data);\r\n       })\r\n      .catch(error => {\r\n        setError(error);\r\n        setLoading(false);\r\n      });\r\n  }\r\n   \r\n\r\n\r\n\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [newName, setNewName] = useState('');\r\n\r\n  const handleEditClick = (person) => {\r\n    setEditingId(person._id);\r\n    //console.log(person)\r\n    setNewName(person.name); // Pre-fill the input with the current name\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setNewName(e.target.value);\r\n    //console.log(e.target.value)\r\n  };\r\n\r\n  const handleEditSubmit = async (id) => {\r\n    try {    let token = localStorage.getItem(\"token\")\r\n\r\n        // Define the headers including the authtoken\r\n        const headers = {\r\n            'authtoken': token\r\n        };\r\n\r\n        // Make an API call to update the product\r\n        const response = await axios.put(`${apiKey}/api/courier/updatecourier/${id}`, {\r\n            name: newName,\r\n        }, { headers }); // Add headers here\r\n\r\n        // Update the local state if the API call is successful\r\n        if (response.status === 200) {\r\n            setData((prevData) =>\r\n                prevData.map((product) =>\r\n                    product.id === id ? { ...product, name: newName } : product\r\n                )\r\n            );\r\n            setEditingId(null);\r\n            fetchcourier();\r\n            setNewName('');\r\n        } else {\r\n            console.error('Failed to update product:', response.status);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error updating product:', error);\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n let deleteproduct = (id)=>{\r\n  let token = localStorage.getItem(\"token\")\r\n   axios.delete(`${apiKey}/api/courier/deletecourier/${id}`,{\r\n    method: 'DELETE',\r\n    headers:{\r\n         \r\n        'authtoken': token\r\n    },\r\n})\r\n\r\n   fetchcourier()\r\n}\r\n\r\nlet confirm11 =(id)=>{\r\n if (window.confirm(\"Do you really want to delete?\")) {\r\n  deleteproduct(id)       \r\n  fetchcourier()\r\n\r\n    }\r\n   \r\n}\r\n\r\n \r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error: {error.message}</p>;\r\n   \r\n    return(\r\n        <>\r\n       <div className=\"  \">\r\n         \r\n      \r\n       <div className=\"space-y-5 h-[500px] overflow-y-scroll pb-3 mt-3\">\r\n  <div>\r\n    <div className=\"flex flex-wrap gap-2 md:gap-1\">\r\n      {data?.map((person, index) => (\r\n        <div\r\n          key={person.id}\r\n          className={`px-5 py-4 flex items-center justify-between text-gray-800 shadow-lg rounded-lg transition-transform transform hover:scale-105 duration-300 ${\r\n            index % 3 === 0\r\n              ? 'bg-gradient-to-tr from-blue-400 via-purple-400 to-pink-400'\r\n              : index % 3 === 1\r\n              ? 'bg-gradient-to-tr from-yellow-400 via-orange-400 to-red-400'\r\n              : 'bg-gradient-to-tr from-green-400 via-teal-400 to-cyan-400'\r\n          }`}\r\n        >\r\n          <div className=\"flex-1\">\r\n            {userrole.canEdit && editingId === person._id ? (\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={newName}\r\n                  onChange={handleInputChange}\r\n                  className=\"border border-gray-300 px-3 py-2 font-semibold md:text-sm text-center text-[16px] bg-white text-gray-800 rounded-lg shadow-sm\"\r\n                />\r\n                <button\r\n                  onClick={() => handleEditSubmit(person._id)}\r\n                  className=\"ml-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-2 rounded-lg\"\r\n                >\r\n                  Save\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"font-semibold md:text-sm text-center text-[16px] text-white\">\r\n                {person.name}\r\n                {userrole.canEdit && (\r\n                  <button\r\n                    onClick={() => handleEditClick(person)}\r\n                    className=\"ml-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-2 rounded-lg\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          {userrole.canDelete && (\r\n            <button\r\n              onClick={() => confirm11(person._id)}\r\n              className=\"ml-4 bg-red-500 hover:bg-red-600 h-8 text-white font-bold py-1 px-2 rounded-lg\"\r\n            >\r\n              Delete\r\n            </button>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n\r\n    <div className=\"flex flex-wrap gap-4 mt-6\">\r\n      {courierdata?.map((person, index) => (\r\n        person._id && (\r\n          <div\r\n            key={person._id}\r\n            className={`shadow-lg rounded-lg p-4 w-full md:w-[45%] lg:w-[32%] transition-transform transform hover:scale-105 duration-300 ${\r\n              index % 3 === 0\r\n                ? 'bg-gradient-to-tr from-pink-300 via-purple-400 to-indigo-500'\r\n                : index % 3 === 1\r\n                ? 'bg-gradient-to-tr from-yellow-300 via-green-400 to-teal-500'\r\n                : 'bg-gradient-to-tr from-blue-300 via-purple-400 to-pink-500'\r\n            }`}\r\n          >\r\n            <div className=\"text-white font-semibold text-lg mb-2\">{person._id}</div>\r\n            <div className=\"space-y-3 text-white\">\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"font-medium\">Total Shipment</div>\r\n                <div>{person.totalSalesQ}</div>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"font-medium\">Total Delivered</div>\r\n                <div>{person.totaldeliverdQ}</div>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"font-medium\">Total Lost</div>\r\n                <div>{person.totalLOSTQ}</div>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <div className=\"font-medium\">Total RTO</div>\r\n                <div>{person.totalRTOQ}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      ))}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n"],"names":["Courier1","params","data","setData","useState","courierdata","setcourierdata","loading","setLoading","error","setError","apiKey","userrole","useContext","DataContext","useEffect","fetchcourier","fetchcourierdetail","token","localStorage","getItem","axios","get","method","headers","then","response","catch","editingId","setEditingId","newName","setNewName","handleInputChange","e","target","value","confirm11","id","window","confirm","delete","deleteproduct","_jsx","children","_jsxs","message","_Fragment","className","map","person","index","canEdit","_id","type","onChange","onClick","async","put","name","status","prevData","product","console","handleEditSubmit","handleEditClick","canDelete","totalSalesQ","totaldeliverdQ","totalLOSTQ","totalRTOQ"],"sourceRoot":""}