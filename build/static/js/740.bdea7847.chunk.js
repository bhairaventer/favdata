"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[740],{6740:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});var d=t(6213),l=t(5043),i=t(579);function a(e){var s,t,a;document.body.style.backgroundColor="#f6f6f6";const[n,r]=(0,l.useState)([]),[c,o]=(0,l.useState)([]),[x,m]=(0,l.useState)([]),[v,h]=(0,l.useState)({}),j="http://127.0.0.1:5000",u=()=>({headers:{authtoken:localStorage.getItem("token")}});(0,l.useEffect)((()=>{(async()=>{try{const e=await d.A.get(`${j}/api/product/top5products`,u());r(e.data)}catch(e){console.error("Error fetching top products",e)}})(),(async()=>{try{const e=await d.A.get(`${j}/api/order/top5states`,u());o(e.data)}catch(e){console.error("Error fetching top states",e)}})(),p(),(async()=>{try{const e=await d.A.get(`${j}/api/order/top5pincode/rto-dto`,u());m(e.data)}catch(e){console.error("Error fetching top pincode",e)}})()}),[]);const p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{const t={authtoken:localStorage.getItem("token")},l=await d.A.get(`${j}/api/order/totalorders`,{headers:t,params:{startDate:e,endDate:s}});h(l.data)}catch(t){console.error("Error fetching total orders",t)}},[f,w]=(0,l.useState)("Today"),[N,y]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),[D,T]=(0,l.useState)(""),[O,S]=(0,l.useState)(""),k=(0,l.useRef)(null),C=e=>{w(e),y("Custom"===e),g(!1);const s=new Date;let t,d;switch(e){case"Today":t=d=s.toISOString().split("T")[0];break;case"Last7Days":t=new Date(s.setDate(s.getDate()-7)).toISOString().split("T")[0],d=(new Date).toISOString().split("T")[0];break;case"Last30Days":t=new Date(s.setDate(s.getDate()-30)).toISOString().split("T")[0],d=(new Date).toISOString().split("T")[0];break;default:t=d=""}p(t,d)},R=e=>{k.current&&!k.current.contains(e.target)&&g(!1)};return(0,l.useEffect)((()=>(document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)})),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:" md:w-[85%] lg:w-[90%]  w-[100%] px-[20px] mt-16 pb-8 ",children:[(0,i.jsx)("div",{className:"flex justify-between text-white  w-[100%]",children:(0,i.jsxs)("div",{className:"lg:text-xl text-lg font-bold",children:["Welcome ",(0,i.jsx)("span",{className:"text-yellow-500 capitalize",children:null===e||void 0===e||null===(s=e.userdata)||void 0===s?void 0:s.name}),","]})}),(0,i.jsx)("div",{className:"bg-[white] rounded-md mt-2 px-3 py-6"}),(0,i.jsxs)("div",{className:"space-y-5 pb-3 mt-3",children:[(0,i.jsxs)("div",{className:"flex gap-3 lg:flex-row flex-col",children:[(0,i.jsxs)("div",{className:"bg-gradient-to-tl from-green-300 lg:w-[50%] px-5 py-3 via-green-600 text-white rounded-md to-green-500",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:()=>g(!b),children:"Select Date Range"}),b&&(0,i.jsxs)("div",{ref:k,className:"dropdown gap-5 absolute bg-gray-600 px-2 py-2 rounded-md flex ",children:[(0,i.jsxs)("div",{className:"flex   flex-col",children:[(0,i.jsx)("button",{onClick:()=>C("Today"),children:"Today"}),(0,i.jsx)("button",{onClick:()=>C("Last7Days"),children:"Last 7 Days"}),(0,i.jsx)("button",{onClick:()=>C("Last30Days"),children:"Last 30 Days"}),(0,i.jsx)("button",{onClick:()=>C("Custom"),children:"Custom"})]}),N&&(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("input",{className:"text-black",type:"date",value:D,onChange:e=>T(e.target.value)}),(0,i.jsx)("input",{className:"text-black",type:"date",value:O,onChange:e=>S(e.target.value)}),(0,i.jsx)("button",{onClick:()=>{w("Custom"),g(!1),y(!1),D&&O?p(D,O):console.error("Custom dates are not set properly")},children:"Apply Custom Dates"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-4 mt-6",children:[(0,i.jsx)("div",{className:"flex justify-center w-[100%]",children:(0,i.jsx)("div",{className:"font-bold text-xl",children:"Sales"})}),(0,i.jsxs)("div",{className:"mt-3 space-y-2 lg:space-y-0",children:[(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Total Sales"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===v||void 0===v?void 0:v.totalOrders}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===v||void 0===v?void 0:v.totalAmount]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Cancel"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===v||void 0===v?void 0:v.totalCancelCount}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===v||void 0===v?void 0:v.totalCancelamount]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Net Proceed"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===v||void 0===v?void 0:v.netproced}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===v||void 0===v?void 0:v.netprocedamount]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Return"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===v||void 0===v?void 0:v.totalretrunCount}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===v||void 0===v?void 0:v.totalreturnamount]})]}),(0,i.jsxs)("div",{className:"flex justify-between w-[100%]",children:[(0,i.jsx)("div",{className:"w-[33%]",children:"Net Sale"}),(0,i.jsx)("div",{className:"w-[40%] text-center",children:null===v||void 0===v?void 0:v.netsale}),(0,i.jsxs)("div",{className:"w-[26%] text-center",children:["\u20b9 ",null===v||void 0===v?void 0:v.netsaleamount]})]})]})]})]}),(0,i.jsxs)("div",{className:"lg:w-[50%]   ",children:[(0,i.jsx)("div",{className:"flex justify-between items-center",children:(0,i.jsx)("div",{className:"text-xl font-semibold",children:"Shipment Details"})}),(0,i.jsxs)("div",{className:"flex justify-between flex-wrap  ",children:[(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-gray-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.Unshipped}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.Unshipped)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"Unshipped"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-red-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.InTransit}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.InTransit)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"In-Transit"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-red-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.OFD}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.OFD)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"OFD"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-green-300  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.Delivered}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.Delivered)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"Delivered"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-yellow-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.RTO}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.RTO)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"RTO"})})]}),(0,i.jsxs)("div",{className:"w-[32%] bg-white mt-2 rounded-md border-b-[14px] py-2 border-green-500  ",children:[(0,i.jsxs)("div",{className:"flex justify-center items-center gap-1  w-[100%]",children:[(0,i.jsx)("div",{className:"font-bold text-xl",children:null===v||void 0===v?void 0:v.DTO}),(0,i.jsxs)("div",{className:"text-gray-500 font-medium text-sm ",children:["(",((null===v||void 0===v?void 0:v.DTO)/(null===v||void 0===v?void 0:v.totalOrder)*100).toFixed(1),")%"]})]}),(0,i.jsx)("div",{className:"flex justify-center items-center gap-2  w-[100%]",children:(0,i.jsx)("div",{className:"font-normal text-sm",children:"DTO"})})]})]})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"flex  lg:justify-between lg:gap-0 gap-2 justify-center flex-wrap ",children:[(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md  py-2 w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px] border-b-[1px]",children:"Top 5 Performing States"})}),(0,i.jsxs)("div",{className:"px-3 space-y-3",children:[(0,i.jsxs)("div",{className:"    md:text-[14px] text-[12px] flex justify-between",children:[(0,i.jsx)("div",{children:"State"}),(0,i.jsx)("div",{children:"totalorders  "})]}),null===c||void 0===c?void 0:c.map((e=>(0,i.jsxs)("div",{className:"flex  md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalOrders})]},e._id)))]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md  py-2 w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px]  border-b-[1px]",children:"Top 5 Products"})}),(0,i.jsxs)("div",{className:"px-3 space-y-3",children:[(0,i.jsxs)("div",{className:"flex  md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:"productname"}),(0,i.jsx)("div",{children:"totalsale  "}),(0,i.jsx)("div",{children:"instock"})]}),null===n||void 0===n?void 0:n.map((e=>(0,i.jsxs)("div",{className:"flex    md:text-[14px] text-[12px] justify-between",children:[(0,i.jsx)("div",{children:e.name}),(0,i.jsx)("div",{children:e.totalsale}),(0,i.jsx)("div",{children:e.purchasestock-e.instock})]},e._id)))]})]}),(0,i.jsxs)("div",{className:"bg-white shadow-xl rounded-md w-[100%]  py-2 md:w-[49%] lg:w-[33%]",children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"border-gray-300 px-3 py-2 font-semibold md:text-sm text-[13px]  border-b-[1px]",children:"Top pincode (RTO/DTO)"})}),(0,i.jsxs)("div",{className:" w-[100%] flex",children:[(0,i.jsxs)("div",{className:"px-3  w-[50%]    border-r-[1px] border-gray-500 space-y-1",children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{children:"DTO"})}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:"Pincode"}),(0,i.jsx)("div",{children:"Total DTO"})]}),null===x||void 0===x||null===(t=x.top5DTOpincode)||void 0===t?void 0:t.map((e=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalDTO})]},e._id)))]}),(0,i.jsxs)("div",{className:"px-3 w-[50%] space-y-1",children:[(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("div",{children:"RTO"})}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:"Pincode"}),(0,i.jsx)("div",{children:"Total RTO"})]}),null===x||void 0===x||null===(a=x.top5RTOpincode)||void 0===a?void 0:a.map((e=>(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{children:e._id}),(0,i.jsx)("div",{children:e.totalRTO})]},e._id)))]})]})]})]})})]})]})})}}}]);
//# sourceMappingURL=740.bdea7847.chunk.js.map