{"version":3,"file":"static/js/1.634cd96e.chunk.js","mappings":"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","sources":["component/search/search.js"],"sourcesContent":[" \r\nimport axios from \"axios\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataContext from \"../usecontext/DataContext\";\r\n\r\nexport default function Searchitems() {\r\n  const { updateOrderStatus, userrole, setexceldata, setsingleorderid } = useContext(DataContext);\r\n  const { fetchSinglePurchase, setsummary, searcheddata, date } = useContext(DataContext);\r\n\r\n  const [selectedStatus, setSelectedStatus] = useState('');\r\n  const [id, setId] = useState('');\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [currentPagepurchase, setCurrentPagepurchase] = useState(1);\r\n  const [totalOrder, settotalOrder] = useState(0);\r\n  const [totalOrderpu, settotalOrderpu] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [hasMorep, setHasMorep] = useState(true);\r\n  const [searchdata, setsearchdata] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const [view, setView] = useState('masterSearch');\r\n  const containerRef = useRef(null);\r\n  const [scrollPosition, setScrollPosition] = useState(0);\r\n  const pageWidth = 50;\r\n  const apiKey = \"https://backend-mqr6.onrender.com\";\r\n  const [productData, setProductData] = useState([]);\r\n  const [productLoading, setProductLoading] = useState(false);\r\n  const [productError, setProductError] = useState(null);\r\n  const [currentPageMaster, setCurrentPageMaster] = useState(1);\r\n  const [currentPagePurchase, setCurrentPagePurchase] = useState(1);\r\n  const [currentPageProduct, setCurrentPageProduct] = useState(1);\r\n  \r\n  const [hasMoreMaster, setHasMoreMaster] = useState(true);\r\n  const [hasMorePurchase, setHasMorePurchase] = useState(true);\r\n  const [hasMoreProduct, setHasMoreProduct] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (view === 'masterSearch') {\r\n      getOrderMasterSearch(currentPageMaster);\r\n    } else if (view === 'purchaseData') {\r\n      fetchpurchase(currentPagePurchase);\r\n    } else if (view === 'productData') {\r\n      fetchProducts(currentPageProduct);\r\n    }\r\n  }, [date, searcheddata, view, currentPageMaster, currentPagePurchase, currentPageProduct]);\r\n  \r\n\r\nconst getOrderMasterSearch = async (page) => {\r\n  try {\r\n    setLoading(true);\r\n    const token = localStorage.getItem(\"token\");\r\n    const headers = { 'authtoken': token };\r\n    const response = await axios.get(`${apiKey}/api/order/mastersearch/${page}`, {\r\n      headers,\r\n      params: { name: searcheddata, startDate: date.startDate, endDate: date.endDate }\r\n    });\r\n\r\n    settotalOrder(response.data.totalDocuments);\r\n    setsearchdata(prevData => [...prevData, ...response.data.results]);\r\n    setHasMoreMaster(response.data.results.length > 0);\r\n    setLoading(false);\r\n    setexceldata(response.data.results);\r\n  } catch (error) {\r\n    setError(error);\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nconst fetchpurchase = async (page) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  try {\r\n    setLoading(true);\r\n    const response = await axios.get(`${apiKey}/api/purchase/fetchpurchase/${page}`, {\r\n      headers: { 'authtoken': token },\r\n      params: { search: searcheddata }\r\n    });\r\n    \r\n    settotalOrderpu(response.data.totalCount);\r\n    setData(prevData => ({\r\n      ...prevData,\r\n      purchase: [...(prevData.purchase || []), ...response.data.purchase]\r\n    }));\r\n    setHasMorePurchase(response.data.purchase.length > 0);\r\n    setLoading(false);\r\n  } catch (error) {\r\n    setError(error);\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\nconst fetchProducts = async (page) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  try {\r\n    setProductLoading(true);\r\n    const response = await axios.get(`${apiKey}/api/product/fetchproductforadmin/${page}`, {\r\n      headers: { 'authtoken': token },\r\n      params: { search: searcheddata }\r\n    });\r\n\r\n    setProductData(prevData => [...prevData, ...response.data.products]);\r\n    setProductLoading(false);\r\n    setHasMoreProduct(response.data.products.length > 0);\r\n  } catch (error) {\r\n    setProductError(error);\r\n    setProductLoading(false);\r\n  }\r\n};\r\n\r\n \r\n \r\n\r\n \r\n\r\n \r\n\r\n  const scrollLeft = () => {\r\n    if (containerRef.current) {\r\n      const newPosition = scrollPosition - pageWidth;\r\n      setScrollPosition(newPosition);\r\n      containerRef.current.scrollTo({ left: newPosition, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  const scrollRight = () => {\r\n    if (containerRef.current) {\r\n      const newPosition = scrollPosition + pageWidth;\r\n      setScrollPosition(newPosition);\r\n      containerRef.current.scrollTo({ left: newPosition, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = (status, iddata) => {\r\n    setSelectedStatus(status);\r\n    setShowPopup(status === \"Lost\");\r\n    setId(iddata);\r\n  };\r\n\r\n  const update = async (status, id) => {\r\n    await updateOrderStatus(status, id);\r\n  };\r\n\r\n  const totalPages = Math.ceil(totalOrder / 20);\r\n  const totalPagespu = Math.ceil(totalOrderpu / 20);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error.message}</div>;\r\n\r\n  return (\r\n    <>\r\n    <div className=\"md:w-[85%] lg:w-[90%] w-full px-5 mt-16\">\r\n  <div className=\"flex justify-between text-white w-full bg-gray-800 p-3 rounded-md shadow-lg mb-4\">\r\n    <div className=\"lg:text-xl text-lg font-semibold\">Orders</div>\r\n    <div className=\"flex lg:space-x-4 lg:text-sm text-xs space-x-2\">\r\n      <Link to=\"/\">Dashboard</Link>\r\n      <Link to=\"/home/reports\">Reports</Link>\r\n      <div>All Shipment</div>\r\n    </div>\r\n  </div>\r\n\r\n  <div className=\"bg-white rounded-md shadow-lg p-6\">\r\n    <div className=\"flex justify-between mb-4\">\r\n      <button\r\n        onClick={() => setView('masterSearch')}\r\n        className={`py-2 px-4 rounded-md ${view === 'masterSearch' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\r\n      >\r\nOrder Data      </button>\r\n      <button\r\n        onClick={() => setView('productData')}\r\n        className={`py-2 px-4 rounded-md ${view === 'productData' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\r\n      >\r\n        Product Data\r\n      </button>\r\n      <button\r\n        onClick={() => setView('purchaseData')}\r\n        className={`py-2 px-4 rounded-md ${view === 'purchaseData' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}\r\n      >\r\n        Purchase Data\r\n      </button>\r\n    </div>\r\n\r\n    {/* Master Search View */}\r\n    {view === 'masterSearch' && (\r\n      <div className=\"scroll-container pb-3\" style={{ overflowX: 'auto' }}>\r\n        <div className=\"mt-4 w-[1200px] h-[600px]\">\r\n          <div className=\"bg-gray-800 flex text-white mb-2 justify-between px-2 items-center text-xs font-semibold rounded-t-md\">\r\n          <div className=\"w-[100px] px-3 py-2\">Status</div>\r\n                  <div className=\"border-l border-white w-[130px] px-3 py-2\">Order ID</div>\r\n                  <div className=\"border-l border-white w-[120px] px-3 py-2\">Product</div>\r\n                  <div className=\"border-l border-white w-[120px] px-3 py-2\">Quantity</div>\r\n                  <div className=\"border-l border-white w-[120px] px-3 py-2\">Amount</div>\r\n                  <div className=\"border-l border-white w-[150px] px-3 py-2\">State</div>\r\n                  <div className=\"border-l border-white w-[180px] px-3 py-2\">Platform</div>\r\n          </div>\r\n\r\n          {searchdata.map((person) => (\r\n            <div key={person._id} className=\"bg-gray-100 flex justify-between text-black px-2 items-center text-sm\">\r\n            \r\n            \r\n                 \r\n\r\n                \r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[100px] px-3 py-2\">{person.status}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[130px] overflow-x-scroll px-3 py-2\">{person.OrderId}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[120px] px-3 py-2\">{person.Product}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[120px] px-3 py-2\">{person.Quntity}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[120px] px-3 py-2\">{person.Salesamount}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[150px] px-3 py-2\">{person.State}</Link>\r\n                    <Link onClick={() => setsingleorderid(person._id)} to=\"/home/Searchpage\" className=\"w-[180px] px-3 py-2\">{person?.Platform?.name}</Link>\r\n                  \r\n      \r\n             </div>\r\n          ))}\r\n          {loading && <div>Loading...</div>}\r\n          {hasMoreMaster && !loading && (\r\n            <button onClick={() => setCurrentPageMaster(prev => prev + 1)}>Load More</button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )}\r\n\r\n    {/* Purchase Data View */}\r\n   {view === 'purchaseData' && (\r\n  <div className=\"mt-4\">\r\n    <div className=\"scroll-container pb-3\" style={{ overflowX: 'auto' }}>\r\n      <div className=\"mt-4 lg:w-full w-[1000px]\">\r\n        <div className=\"bg-[#464646] flex text-white mb-2 px-2 items-center justify-between\">\r\n          <div className=\"border-white px-3 py-1 w-[160px]\">Bill Date</div>\r\n          <div className=\"border-l-[1px] border-white w-[120px] px-3 py-1\">Bill No</div>\r\n          <div className=\"border-white border-l-[1px] px-3 py-1 w-[160px]\">Supplier</div>\r\n          <div className=\"border-l-[1px] border-white w-[130px] px-3 py-1\">Amount</div>\r\n        </div>\r\n\r\n        {data?.purchase?.map((person) => {\r\n          let total = 0;\r\n          person?.name?.forEach((purchase) => (total += parseInt(purchase.amount)));\r\n\r\n          const date = new Date(person?.billdate);\r\n          const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n          const newdate = date.toLocaleDateString('en-IN', options).split('/').join('-');\r\n\r\n          return (\r\n            <Link\r\n              key={person._id}\r\n              onClick={() => fetchSinglePurchase(person._id)}\r\n              to=\"../products/SinglePurchase\"\r\n              className=\"rounded-full child cursor-pointer\"\r\n            >\r\n              <div className=\"bg-[#f2f2f2] flex mt-1 text-black cursor-pointer px-2 justify-between items-center\">\r\n                <div className=\"px-3 py-1 w-[160px]\">{newdate}</div>\r\n                <div className=\"w-[120px] px-3 py-1\">{person?.billno}</div>\r\n                <div className=\"px-3 py-1 w-[160px]\">{person?.Supplier}</div>\r\n                <div className=\"w-[130px] px-3 py-1\">{total}</div>\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n        {loading && <div>Loading...</div>}\r\n        {hasMorePurchase && !loading && (\r\n          <button onClick={() => setCurrentPagePurchase((prev) => prev + 1)}>\r\n            Load More\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n    {/* Product Data View */}\r\n    {view === 'productData' && (\r\n      <div className=\"mt-4\">\r\n        <div className=\"scroll-container pb-3\" style={{ overflowX: 'auto' }}>\r\n          {productLoading && <div>Loading products...</div>}\r\n          {productError && <div>Error: {productError.message}</div>}\r\n          <div className=\"mt-4 lg:w-full w-[1000px]\">\r\n            <div className=\"bg-[#464646] flex text-white mb-2 px-2 items-center justify-between\">\r\n            <div className=\" border-white  px-3 py-1  w-[160px] \">Product Name</div>\r\n                <div className=\" border-white border-l-[1px] px-3 py-1  w-[160px] \">Category</div>\r\n                <div className=\" border-l-[1px]  border-white w-[80px]  px-3 py-1 \">MRP</div>\r\n                <div className=\"border-l-[1px] border-white w-[130px]  px-3 py-1 \">Saling price</div>\r\n                 <div className=\"border-l-[1px] border-white w-[100px]  px-3 py-1 \">NewOrder</div>\r\n                <div className=\"border-l-[1px] border-white w-[70px]  px-3 py-1 \">Available</div>\r\n                <div className=\"border-l-[1px] border-white w-[130px]  px-3 py-1 \">In stock</div>\r\n                <div className=\"border-l-[1px] border-white w-[130px]  px-3 py-1 \">damage</div>\r\n                \r\n            </div>\r\n \r\n               \r\n  \r\n    \r\n     \r\n      \r\n      {productData?.map((person) => {\r\n\r\nlet purchase = person.purchasestock\r\nlet totalsale = person.totalsale\r\n// eslint-disable-next-line use-isnan, eqeqeq\r\nif(purchase === NaN || purchase == 0 || !purchase){\r\n   purchase = 0\r\n  }\r\n  \r\n// eslint-disable-next-line use-isnan, eqeqeq\r\nif(totalsale === NaN || totalsale == 0 || !totalsale){\r\n  totalsale = 0\r\n  }\r\n\r\n\r\nreturn (\r\n  <div key={person._id} className=\"bg-[#f2f2f2] flex mt-3   text-black  px-2 justify-between items-center \">\r\n       <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\"  px-3 py-1  w-[170px] \">{person.name}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\"  px-3 py-1  w-[170px] \">{person?.category[0]?.name ?person?.category[0]?.name : person.category} </Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\" w-[80px]  px-3 py-1 \">{person?.MRP}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\" w-[130px]  px-3 py-1 \">{person.salingprice}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\" w-[100px]  px-3 py-1 \">{person.ordercome}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\" w-[70px]  px-3 py-1 \">{(purchase-totalsale)-person.ordercome}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\" w-[130px]  px-3 py-1 \">{purchase-totalsale}</Link>\r\n      <Link onClick={()=>{setsummary(person)}} to=\"../products/Singleproduct\" className=\"border-l-[1px] border-white w-[90px]  px-3 py-1 \">{person.totalDamaged == undefined ? 0:person.totalDamaged}</Link>\r\n        \r\n\r\n      <div className=\" sticky right-0 flex   bg-black bottom-1 z-10\">\r\n\r\n\r\n \r\n \r\n</div>\r\n       \r\n  </div>\r\n)})}\r\n     \r\n   \r\n           \r\n            {productLoading && <div>Loading products...</div>}\r\n            {productError && <div>Error: {productError.message}</div>}\r\n            {productData.length > 0 && (\r\n              <button onClick={() => setCurrentPageProduct(prev => prev + 1)}>Load More</button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\n  </div>\r\n</div>\r\n\r\n    </>\r\n  );\r\n}\r\n"],"names":["Searchitems","_data$purchase","updateOrderStatus","userrole","setexceldata","setsingleorderid","useContext","DataContext","fetchSinglePurchase","setsummary","searcheddata","date","selectedStatus","setSelectedStatus","useState","id","setId","showPopup","setShowPopup","currentPage","setCurrentPage","currentPagepurchase","setCurrentPagepurchase","totalOrder","settotalOrder","totalOrderpu","settotalOrderpu","hasMore","setHasMore","hasMorep","setHasMorep","searchdata","setsearchdata","loading","setLoading","error","setError","data","setData","view","setView","scrollPosition","setScrollPosition","useRef","apiKey","productData","setProductData","productLoading","setProductLoading","productError","setProductError","currentPageMaster","setCurrentPageMaster","currentPagePurchase","setCurrentPagePurchase","currentPageProduct","setCurrentPageProduct","hasMoreMaster","setHasMoreMaster","hasMorePurchase","setHasMorePurchase","hasMoreProduct","setHasMoreProduct","useEffect","getOrderMasterSearch","fetchpurchase","fetchProducts","async","headers","localStorage","getItem","response","axios","get","page","params","name","startDate","endDate","totalDocuments","prevData","results","length","token","search","totalCount","purchase","products","Math","ceil","_jsx","children","_jsxs","message","_Fragment","className","Link","to","onClick","style","overflowX","map","person","_person$Platform","_id","status","OrderId","Product","Quntity","Salesamount","State","Platform","prev","_person$name","total","forEach","parseInt","amount","newdate","Date","billdate","toLocaleDateString","year","month","day","split","join","billno","Supplier","_person$category$","_person$category$2","purchasestock","totalsale","NaN","category","MRP","salingprice","ordercome","undefined","totalDamaged"],"sourceRoot":""}