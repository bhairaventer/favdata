"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[813],{5813:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(5043),o=a(6213),r=a(2684),s=a(579);function n(e){const t="http://127.0.0.1:5000",{userrole:a}=(0,l.useContext)(r.A),{platformdata:n,fetchplatform:d}=(0,l.useContext)(r.A),[i,c]=(0,l.useState)([]),[u,m]=(0,l.useState)(null),[p,h]=(0,l.useState)(null),[f,x]=(0,l.useState)("");(0,l.useEffect)((()=>{d()}),[d]);const g=e=>{x(e.target.value)},b=e=>{window.confirm("Do you really want to delete?")&&(async e=>{const a=localStorage.getItem("token");try{await o.A.delete(`${t}/api/Platform/deleteplatform/${e}`,{headers:{authtoken:a}}),d()}catch(u){console.error("Error deleting platform:",u)}})(e)};return u?(0,s.jsxs)("p",{children:["Error: ",u.message]}):n?(0,s.jsx)("div",{className:"p-4 space-y-5  h-[500px] overflow-y-scroll",children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null===n||void 0===n?void 0:n.map((e=>(0,s.jsx)("div",{className:"relative bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 p-6 rounded-lg shadow-2xl transform transition-transform duration-500 hover:scale-105 hover:shadow-2xl",children:(0,s.jsxs)("div",{className:"flex flex-row items-start space-y-4",children:[a.canEdit&&p===e._id?(0,s.jsxs)("div",{className:"w-full flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",value:f,onChange:g,className:"border-gray-300 px-3 py-2 font-semibold text-center border-b-2 bg-white text-black rounded-md"}),(0,s.jsx)("button",{onClick:()=>(async e=>{try{const a={authtoken:localStorage.getItem("token")},l=await o.A.put(`${t}/api/Platform/updateplatform/${e}`,{name:f},{headers:a});200===l.status?(c((t=>t.map((t=>t._id===e?{...t,name:f}:t)))),h(null),d(),x("")):console.error("Failed to update platform:",l.status)}catch(u){console.error("Error updating platform:",u)}})(e._id),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded-md",children:"Save"})]}):(0,s.jsxs)("div",{className:"flex justify-between items-center flex-col w-full",children:[(0,s.jsx)("span",{className:"font-semibold text-lg text-white",children:e.name}),a.canEdit&&(0,s.jsx)("button",{onClick:()=>(e=>{h(e._id),x(e.name)})(e),className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-2 rounded-md",children:"Edit"})]}),a.canDelete&&(0,s.jsx)("button",{onClick:()=>b(e._id),className:"absolute bottom-2 right-2 bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-3 rounded-md",children:"Delete"})]})},e._id)))})}):(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."})}}}]);
//# sourceMappingURL=813.5d8a2bf2.chunk.js.map