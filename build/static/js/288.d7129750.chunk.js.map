{"version":3,"file":"static/js/288.d7129750.chunk.js","mappings":"kLAMgB,SAASA,EAAQC,GAAS,IAADC,EAAAC,EACrC,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IACrCK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAChCO,EAAaC,IAAkBR,EAAAA,EAAAA,UAAS,IACxCS,EAAYC,IAAiBV,EAAAA,EAAAA,UAAS,KACvCW,EAASC,IAAcZ,EAAAA,EAAAA,WAAS,IAE/B,kBAAEa,EAAiB,SAACC,EAAQ,aAAEC,EAAY,iBAACC,IAAoBC,EAAAA,EAAAA,YAAWC,EAAAA,IAIhFC,EAAAA,EAAAA,YAAU,KACNC,EAAab,EAAY,GAC1B,IAKC,MAAMc,EAAWA,KACTd,EAAc,GAChBC,GAAgBc,IACd,MAAMC,EAAUD,EAAW,EAI3B,OADAF,EAAaG,GACNA,CAAO,GAElB,EAGIC,EAAOA,KAERC,KAAKC,KAAKjB,EAAW,IACpBE,GACFH,GAAgBc,IACd,MAAMC,EAAUD,EAAW,EAG3B,OADAF,EAAaG,GACNA,CAAO,GAElB,EAeIH,EAAeO,UACpB,IAAIC,EAAOC,aAAaC,QAAQ,SAC/B,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,IAAI,yDAAiCC,IAAO,CAACC,OAAQ,MAChFC,QAAQ,CAEJ,UAAaR,KASV,IAADS,EAJR,GAFA3B,EAAcqB,EAASjC,KAAKwC,YAEM,IAA9BP,EAASjC,KAAKA,KAAKyC,OACrB3B,GAAW,GACXb,EAAQgC,EAASjC,KAAKA,iBAQhBiB,EAAqB,OAARgB,QAAQ,IAARA,GAAc,QAANM,EAARN,EAAUjC,YAAI,IAAAuC,OAAN,EAARA,EAAgBvC,MACnCC,EAAQgC,EAASjC,KAAKA,MACtBc,GAAW,GAEbN,GAAW,EACb,CAAE,MAAOL,GACPC,EAASD,GACTK,GAAW,EACb,GAaIkC,EAAaf,KAAKC,KAAKjB,EAAa,IACpCgC,GAAeC,EAAAA,EAAAA,QAAO,OACrBC,EAAgBC,IAAqB5C,EAAAA,EAAAA,UAAS,GAkB3D,OACI6C,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACAC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,IAAGF,SAAA,EAEjBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+BAA8BF,SAAA,EAC1CC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2EAA0EF,SAAA,EACrFF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,uCAAsCF,SAAC,eACtDF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,qDAAoDF,SAAC,cACpEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,sDAAqDF,SAAC,aACrEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,cACnEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,aACnEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,aACnEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,YACnEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,WAEnEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,oDAAmDF,SAAC,mBAGjE,OAAJjD,QAAI,IAAJA,OAAI,EAAJA,EAAMoD,KAAKC,IAAY,IAADC,EAMpC,IAAIC,EAFW,IAAIC,KAAKH,EAAOE,UAEVE,mBAAmB,QADtB,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAE5DL,EAAWA,EAASM,MAAM,KAAKC,KAAK,KAIpC,IAAIC,EAFiB,IAAIP,KAAKH,EAAOU,YAERN,mBAAmB,QAD9B,CAAEC,KAAM,UAAWC,MAAO,UAAWC,IAAK,YAInD,OAFTG,EAAaA,EAAWF,MAAM,KAAKC,KAAK,MAG5BZ,EAAAA,EAAAA,MAAA,OAAuBC,UAAU,sDAAqDF,SAAA,EAClFF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,yCAAwCF,SAAEM,KACzDL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCF,SAAA,CAAiB,QAAjBK,EAAED,EAAOW,gBAAQ,IAAAV,OAAA,EAAfA,EAAiBW,KAAK,QAC/ElB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOa,UAC/DnB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOc,WAC/DpB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOe,WAC/DrB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOgB,WAC/DtB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOiB,eAC/DvB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,wCAAuCF,SAAEI,EAAOkB,SAE/DxB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,yBAAwBF,SAAEc,MAVlCV,EAAOmB,IAWZ,QAGTtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0DAAyDF,SAAA,EACzEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uDAAsDF,SAAA,CAClD,IAAhBxC,GAAmByC,EAAAA,EAAAA,MAAA,UAAUuB,QAASA,KAAKlD,GAAU,EAAG4B,UAAU,kGAAiGF,SAAA,CAAC,KAACC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBF,SAAA,EAACF,EAAAA,EAAAA,KAAC2B,EAAAA,IAAoB,IAAG,mBACvOxB,EAAAA,EAAAA,MAAA,UAAQyB,UAAQ,EAAEF,QAASA,KAAKlD,GAAU,EAAG4B,UAAU,kFAAiFF,SAAA,CAAC,KAACC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBF,SAAA,EAACF,EAAAA,EAAAA,KAAC2B,EAAAA,IAAoB,IAAG,mBACrN3B,EAAAA,EAAAA,KAAA,OAAKI,UAAU,uDAAsDF,SAAExC,IAC5DA,IAAgBkB,KAAKC,KAAKjB,EAAW,KAAuB,IAAfA,GAAoBuC,EAAAA,EAAAA,MAAA,UAAQuB,QAASA,KAAK/C,GAAM,EAAGyB,UAAU,kGAAiGF,SAAA,CAAC,KAACC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBF,SAAA,CAAC,QAAIF,EAAAA,EAAAA,KAAC6B,EAAAA,IAAqB,OAAS,QAC1R1B,EAAAA,EAAAA,MAAA,UAAQyB,UAAQ,EAACF,QAASA,KAAK/C,GAAM,EAAGyB,UAAU,kFAAiFF,SAAA,CAAC,KAACC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBF,SAAA,CAAC,QAAIF,EAAAA,EAAAA,KAAC6B,EAAAA,IAAqB,OAAS,WAEnN7B,EAAAA,EAAAA,KAAA,OAAKI,UAAU,6CAA4CF,UAG3DC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBF,SAAA,EAEpCF,EAAAA,EAAAA,KAAA,UACE0B,QA7EqBI,KACjB,GAAIlC,EAAamC,QAAS,CACxB,MAAMC,EAAclC,EAHN,GAIdC,EAAkBiC,GAClBpC,EAAamC,QAAQE,SAAS,CAAEC,KAAMF,EAAaG,SAAU,UAC/D,GAyEJ/B,UAAU,0EACVwB,SAAU9B,GAAkB,EAAEI,SAC/B,OAKDF,EAAAA,EAAAA,KAAA,OACEoC,IAAKxC,EACLQ,UAAU,0CACViC,MAAO,CAAEC,SAAU,QAASC,WAAY,UAAWrC,UAEnDF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,aAAYF,SAvGX,SAACsC,EAAOC,GAAmB,IAAdC,EAAIC,UAAAjD,OAAA,QAAAkD,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAChC,MAAME,EAAS,GACf,IAAK,IAAIC,EAAIN,EAAOM,EAAIL,EAAKK,GAAKJ,EAChCG,EAAOE,KAAKD,GAEd,OAAOD,CACT,CAkGCG,CAAM,EAAGrD,EAAW,GAAGU,KAAI4C,IAC1BjD,EAAAA,EAAAA,KAAA,OAAK0B,QAASA,KAvJEuB,KAEZnF,GACFH,GAAgBc,IACd,MAAMC,EAAUuE,EAGhB,OADA1E,EAAaG,GACNA,CAAO,GAElB,EA8ImBwE,CAASD,EAAO,EAEjC7C,UAAU,4DACViC,MAAO,CAAEc,MAhGK,IAgGcjD,SAE3B+C,GAJIA,UAWbjD,EAAAA,EAAAA,KAAA,UACE0B,QAjGsB0B,KAClB,GAAIxD,EAAamC,QAAS,CACxB,MAAMC,EAAclC,EAXN,GAYdC,EAAkBiC,GAClBpC,EAAamC,QAAQE,SAAS,CAAEC,KAAMF,EAAaG,SAAU,UAC/D,GA6FJ/B,UAAU,0EACVwB,SAAU9B,IAAuC,QAApB/C,EAAA6C,EAAamC,eAAO,IAAAhF,OAAA,EAApBA,EAAsBsG,cAAkC,QAAvBrG,EAAG4C,EAAamC,eAAO,IAAA/E,OAAA,EAApBA,EAAsBsG,aAAapD,SACrG,kBASP,C","sources":["component/Returnitem/REfund.js"],"sourcesContent":["import axios, { Axios } from \"axios\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\nimport { FaArrowAltCircleLeft,FaArrowAltCircleRight } from \"react-icons/fa\";\r\nimport DataContext from \"../usecontext/DataContext\";\r\n\r\nexport default  function Refund (params) {\r\n    const [data, setData] = useState([]);\r\n    const [error, setError] = useState(null);\r\n    const [showpopup, setshowpopup] = useState(false);\r\n   const [loading, setLoading] = useState(true)\r\n   const [currentPage, setCurrentPage] = useState(1);\r\n   const [totalOrder, settotalOrder] = useState(\"\");\r\n  const [hasMore, setHasMore] = useState(true); // To track if there are more items to load\r\n    const apiKey = \"https://backend-mqr6.onrender.com\"\r\n    const { updateOrderStatus,userrole ,setexceldata,setsingleorderid} = useContext(DataContext);\r\n\r\n\r\n    \r\n    useEffect(() => {\r\n        fetchproduct(currentPage)\r\n    }, []);\r\n   \r\n\r\n\r\n \r\n        const Previous = () => {\r\n            if (currentPage > 1) {\r\n              setCurrentPage((prevPage) => {\r\n                const newPage = prevPage - 1;\r\n        \r\n                //console.log(newPage)\r\n                fetchproduct(newPage);\r\n                return newPage;\r\n              });\r\n            }\r\n          };\r\n        \r\n          const Next = () => {\r\n            //console.log(hasMore)\r\n           if( Math.ceil(totalOrder/10)){}\r\n            if (hasMore) {\r\n              setCurrentPage((prevPage) => {\r\n                const newPage = prevPage + 1;\r\n                //console.log(newPage)\r\n                fetchproduct(newPage);\r\n                return newPage;\r\n              });\r\n            }\r\n          };\r\n          const numclick = (number) => {\r\n             \r\n            if (hasMore) {\r\n              setCurrentPage((prevPage) => {\r\n                const newPage = number\r\n                //console.log(newPage)\r\n                fetchproduct(newPage);\r\n                return newPage;\r\n              });\r\n            }\r\n          };\r\n        \r\n           \r\n          const fetchproduct = async (page) => {\r\n           let token =localStorage.getItem('token')\r\n            try {\r\n              const response = await axios.get(`${apiKey}/api/order/refundcon/${page}`,{method: 'GET',\r\n                headers:{\r\n                     \r\n                    'authtoken': token\r\n                },\r\n               });\r\n              settotalOrder(response.data.totalCount)\r\n        \r\n              if (response.data.data.length === 0) {\r\n                setHasMore(false); // No more data to load\r\n                setData(response.data.data);\r\n        \r\n               } else {\r\n                // setData(prevData => ({\r\n                //   ...prevData,\r\n                //   orders: [...prevData.orders, ...response.data.orders]\r\n                // }));\r\n                \r\n                await setexceldata(response?.data?.data);\r\n                setData(response.data.data);\r\n                setHasMore(true); \r\n               }\r\n              setLoading(false);\r\n            } catch (error) {\r\n              setError(error);\r\n              setLoading(false);\r\n            }\r\n          };\r\n          \r\n          \r\n          const range = (start, end, step = 1) => {\r\n            const result = [];\r\n            for (let i = start; i < end; i += step) {\r\n              result.push(i);\r\n            }\r\n            return result;\r\n          };\r\n          \r\n          \r\n          const totalPages = Math.ceil(totalOrder / 10);\r\n          const containerRef = useRef(null);\r\n          const [scrollPosition, setScrollPosition] = useState(0);\r\n          const pageWidth = 50; \r\n          const scrollLeft = () => {\r\n            if (containerRef.current) {\r\n              const newPosition = scrollPosition - pageWidth;\r\n              setScrollPosition(newPosition);\r\n              containerRef.current.scrollTo({ left: newPosition, behavior: \"smooth\" });\r\n            }\r\n          };\r\n          \r\n          const scrollRight = () => {\r\n            if (containerRef.current) {\r\n              const newPosition = scrollPosition + pageWidth;\r\n              setScrollPosition(newPosition);\r\n              containerRef.current.scrollTo({ left: newPosition, behavior: \"smooth\" });\r\n            }\r\n          };\r\n \r\n    return(\r\n        <>\r\n        <div className=\" \">\r\n        \r\n         <div className=\"  mt-4 w-[1350px] h-[510px] \">\r\n            <div className=\"bg-[#464646] flex sticky top-3 z-20  text-white mb-2  px-2 items-center \">\r\n                <div className=\" border-white  px-3 py-1  w-[160px] \">Bill date</div>\r\n                <div className=\" border-white border-l-[1px] px-3 py-1  w-[160px] \">Platform</div>\r\n                <div className=\" border-l-[1px]  border-white w-[120px]  px-3 py-1 \">Bill NO</div>\r\n                <div className=\"border-l-[1px] border-white w-[130px]  px-3 py-1 \">Order Id</div>\r\n                <div className=\"border-l-[1px] border-white w-[100px]  px-3 py-1 \">Product</div>\r\n                <div className=\"border-l-[1px] border-white w-[130px]  px-3 py-1 \">Quntity</div>\r\n                <div className=\"border-l-[1px] border-white w-[150px]  px-3 py-1 \">Amount</div>\r\n                <div className=\"border-l-[1px] border-white w-[100px]  px-3 py-1 \">State</div>\r\n                \r\n                <div className=\"border-l-[1px] border-white w-[160px]  px-3 py-1 \">Refund Date</div>\r\n                 \r\n            </div>\r\n            { data?.map((person) => {\r\n \r\n \r\n\r\n const bdate = new Date(person.Billdate);\r\n const boptions = { year: 'numeric', month: '2-digit', day: '2-digit', };\r\nlet Billdate = bdate.toLocaleDateString('en-IN', boptions);\r\nBilldate = Billdate.split('/').join('-');\r\n\r\n const refunddate1 = new Date(person.refunddate);\r\n const doptions = { year: 'numeric', month: '2-digit', day: '2-digit', };\r\nlet refunddate = refunddate1.toLocaleDateString('en-IN', doptions);\r\nrefunddate = refunddate.split('/').join('-');\r\n\r\n         return (\r\n            <div  key={person._id} className=\"bg-[#f2f2f2] flex   text-black  px-2  items-center \">\r\n                <div className=\"overflow-x-auto  px-3 py-1  w-[160px] \">{Billdate}</div>\r\n                <div className=\"overflow-x-auto  px-3 py-1  w-[160px] \">{person.Platform?.name} </div>\r\n                <div className=\"overflow-x-auto w-[120px]  px-3 py-1 \">{person.Billno}</div>\r\n                <div className=\"overflow-x-auto w-[130px]  px-3 py-1 \">{person.OrderId}</div>\r\n                <div className=\"overflow-x-auto w-[100px]  px-3 py-1 \">{person.Product}</div>\r\n                <div className=\"overflow-x-auto w-[130px]  px-3 py-1 \">{person.Quntity}</div>\r\n                <div className=\"overflow-x-auto w-[150px]  px-3 py-1 \">{person.Salesamount}</div>\r\n                <div className=\"overflow-x-auto w-[100px]  px-3 py-1 \">{person.State}</div>\r\n                \r\n                <div className=\" w-[160px]  px-3 py-1 \">{refunddate}</div>\r\n            </div>)})}\r\n        \r\n         </div>\r\n         <div className=\"    absolute md:w-[80%]  lg:w-[85%]   w-[90%] mt-10    \">\r\n        <div className=\"text-white w-[100%] pb-5 flex gap-10 justify-center \">\r\n          {currentPage !== 1 ?<button   onClick={()=>{Previous()}} className=\"bg-blue-600 hover:bg-blue-700 w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md \"> <div className=\"flex items-center gap-2\"><FaArrowAltCircleLeft /> Previous</div></button>:\r\n          <button disabled  onClick={()=>{Previous()}} className=\"bg-blue-400   w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md \"> <div className=\"flex items-center gap-2\"><FaArrowAltCircleLeft /> Previous</div></button>}\r\n<div className=\"text-black border-black border-[1px] px-2 rounded-md\">{currentPage}</div>\r\n         { currentPage !== Math.ceil(totalOrder/10)  && totalOrder !== 0 ?  <button onClick={()=>{Next()}} className=\"bg-blue-600 hover:bg-blue-700 w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md \"> <div className=\"flex items-center gap-2\">Next<FaArrowAltCircleRight /></div> </button>:\r\n          <button disabled onClick={()=>{Next()}} className=\"bg-blue-400   w-[120px]  flex    justify-center cursor-pointer px-3 rounded-md \"> <div className=\"flex items-center gap-2\">Next<FaArrowAltCircleRight /></div> </button>}\r\n        </div>\r\n        <div className=\"w-[100%] pb-5 flex gap-10  justify-center \">\r\n        \r\n\r\n        <div className=\"flex items-center\">\r\n      {/* Scroll Left Button */}\r\n      <button\r\n        onClick={scrollLeft}\r\n        className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 mb-2 py-1 rounded-md mr-2\"\r\n        disabled={scrollPosition <= 0}\r\n      >\r\n        &lt;\r\n      </button>\r\n\r\n      {/* Scroll Container */}\r\n      <div\r\n        ref={containerRef}\r\n        className=\"relative overflow-x-auto hide-scrollbar\"\r\n        style={{ maxWidth: \"150px\", whiteSpace: \"nowrap\" }}\r\n      >\r\n        <div className=\"flex gap-2\">\r\n          {range(1, totalPages+1).map(number => (\r\n            <div onClick={()=>{numclick(number)}}\r\n              key={number}\r\n              className=\"border-black text-center cursor-pointer border-[1px] px-2\"\r\n              style={{ width: pageWidth }}\r\n            >\r\n              {number}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Scroll Right Button */}\r\n      <button\r\n        onClick={scrollRight}\r\n        className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 mb-2 rounded-md ml-2\"\r\n        disabled={scrollPosition >= (containerRef.current?.scrollWidth - containerRef.current?.clientWidth)}\r\n      >\r\n        &gt;\r\n      </button>\r\n    </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// \r\n"],"names":["Refund","params","_containerRef$current","_containerRef$current2","data","setData","useState","error","setError","showpopup","setshowpopup","loading","setLoading","currentPage","setCurrentPage","totalOrder","settotalOrder","hasMore","setHasMore","updateOrderStatus","userrole","setexceldata","setsingleorderid","useContext","DataContext","useEffect","fetchproduct","Previous","prevPage","newPage","Next","Math","ceil","async","token","localStorage","getItem","response","axios","get","page","method","headers","_response$data","totalCount","length","totalPages","containerRef","useRef","scrollPosition","setScrollPosition","_jsx","_Fragment","children","_jsxs","className","map","person","_person$Platform","Billdate","Date","toLocaleDateString","year","month","day","split","join","refunddate","Platform","name","Billno","OrderId","Product","Quntity","Salesamount","State","_id","onClick","FaArrowAltCircleLeft","disabled","FaArrowAltCircleRight","scrollLeft","current","newPosition","scrollTo","left","behavior","ref","style","maxWidth","whiteSpace","start","end","step","arguments","undefined","result","i","push","range","number","numclick","width","scrollRight","scrollWidth","clientWidth"],"sourceRoot":""}