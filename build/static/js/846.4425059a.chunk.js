"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[846],{6846:(e,r,a)=>{a.r(r),a.d(r,{default:()=>d});var t=a(5043),s=a(6213),l=a(3986),i=a(579);function d(){const[e,r]=(0,t.useState)({name:"",othername:"",category:"",MRP:"",salingprice:"",Cost:"",Serialrequired:""}),[a,d]=(0,t.useState)(""),[n,o]=(0,t.useState)(""),[c,u]=(0,t.useState)([]),[m,x]=(0,t.useState)({}),[p,g]=(0,t.useState)([]),[h,b]=(0,t.useState)([]),[f,j]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[N,S]=(0,t.useState)(!1),w="http://127.0.0.1:5000",k=(0,t.useRef)(null),P=(0,t.useRef)(null),R=(0,t.useRef)(null),q=(0,t.useRef)(null),C=(0,t.useRef)(null),M=(0,t.useRef)(null),E=(e,r)=>{"Enter"===e.key&&(e.preventDefault(),r.current.focus())},A=a=>{r({...e,[a.target.name]:a.target.value})},K=localStorage.getItem("token");(0,t.useEffect)((()=>{(async()=>{try{const e=await s.A.get(`${w}/api/category/fetchallcategory`,{headers:{authtoken:K}});g(e.data)}catch(e){console.error("Error fetching categories:",e)}})()}),[]),(0,t.useEffect)((()=>{b(p.filter((e=>e.name.toLowerCase().includes(f.toLowerCase()))))}),[f,p]);const[O,D]=(0,t.useState)(!1),F=()=>{D(!0)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("div",{className:"App",children:(0,i.jsx)(l.A,{show:O,onClose:()=>{D(!1)},message:a})}),(0,i.jsxs)("div",{className:"mt-4 lg:w-full",children:[(0,i.jsx)("div",{className:"text-[12px] ml-2 text-red-600"}),(0,i.jsxs)("div",{className:"bg-[#f2f2f2] grid md:grid-cols-2 text-black px-2 gap-6 md:gap-6 items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",name:"name",onChange:A,value:e.name,placeholder:"Product Name",ref:k,onKeyPress:e=>E(e,P),className:"px-3 py-1 border-black w-[100%] border-[2px] rounded-md "+(m.name?"border-red-500":"")}),m.name&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",name:"MRP",onChange:A,value:e.MRP,placeholder:"MRP",ref:R,onKeyPress:e=>E(e,q),className:"px-3 py-1 border-black w-[100%] border-[2px] rounded-md "+(m.MRP?"border-red-500":"")}),m.MRP&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.MRP})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",name:"salingprice",onChange:A,value:e.salingprice,placeholder:"Selling Price",ref:q,onKeyPress:e=>E(e,C),className:"px-3 py-1 border-black w-[100%] border-[2px] rounded-md "+(m.salingprice?"border-red-500":"")}),m.salingprice&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.salingprice})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{type:"button",onClick:()=>S(!N),className:"  px-3 py-1 border-black border-[2px] rounded-md w-[100%] "+(m.category?"border-red-500":""),children:e.category?`Selected: ${y}`:"Select Category"}),N&&(0,i.jsxs)("div",{className:"absolute z-10 bg-white border border-gray-300 rounded-md shadow-lg w-full mt-2",children:[(0,i.jsx)("input",{type:"text",placeholder:"Search categories...",value:f,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border-b border-gray-300 rounded-t-md"}),(0,i.jsx)("div",{className:"max-h-60 overflow-y-auto",children:h.map((a=>(0,i.jsx)("button",{onClick:()=>(a=>{v(a.name),r({...e,category:a._id}),S(!1)})(a),className:"w-full px-3 py-2 text-left hover:bg-gray-200",children:a.name},a._id)))})]}),m.category&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.category})]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",onChange:e=>{o(e.target.value)},onKeyPress:e=>E(e,M),value:n,name:"serialNumbers",placeholder:"Enter othername",ref:C,className:"px-3 py-1 w-[100%] border-black border-[2px] rounded-md "+(m.serialNumbers?"border-red-500":"")}),(0,i.jsx)("button",{type:"button",className:"w-[100px]",onClick:()=>{n.trim()&&!c.includes(n.trim())&&(u([...c,n.trim()]),o(""))},children:"Add Name"}),m.serialNumbers&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.serialNumbers}),c.length>0&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h2",{className:"font-bold",children:"Other name"}),(0,i.jsx)("ul",{className:"grid gap-2 w-[50%] mt-2",children:c.map(((e,r)=>(0,i.jsxs)("li",{className:"flex justify-between bg-gray-200 p-2 rounded-md",children:[(0,i.jsx)("span",{children:e}),(0,i.jsx)("button",{onClick:()=>{return r=e,void u(c.filter((e=>e!==r)));var r},className:"text-red-500 hover:text-red-700",children:"Remove"})]},r)))})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("select",{name:"Serialrequired",onChange:a=>{r({...e,Serialrequired:a.target.value})},value:e.Serialrequired,ref:M,className:"px-3 py-1 border-black w-[100%] border-[2px] rounded-md "+(m.Serialrequired?"border-red-500":""),children:[(0,i.jsx)("option",{value:"",children:"Serial Required"}),[{value:"YES",label:"YES"},{value:"NO",label:"NO"}].map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))]}),m.Serialrequired&&(0,i.jsx)("p",{className:"text-red-500 text-xs",children:m.Serialrequired})]})]})]}),(0,i.jsx)("div",{className:"w-[100%] flex justify-center",children:(0,i.jsx)("button",{type:"button",onClick:async()=>{if((()=>{const r={},{name:a,category:t,MRP:s,salingprice:l,Serialrequired:i}=e;return a.trim()||(r.name="Product name is required"),t.trim()||(r.category="Category is required"),s.trim()&&!isNaN(s)||(r.MRP="Valid MRP is required"),l.trim()&&!isNaN(l)||(r.salingprice="Valid selling price is required"),i||(r.Serialrequired="Serial requirement status is required"),x(r),0===Object.keys(r).length})())try{const{name:a,category:t,MRP:l,salingprice:n,Serialrequired:o}=e;let u=a.toString(),m=t.toString(),x=l.toString(),p=n.toString(),g=o.toString(),h=localStorage.getItem("token"),b=await s.A.post(`${w}/api/product/addproduct`,{name:u,category:m,MRP:x,salingprice:p,othername:c,Serialrequired:g},{headers:{authtoken:h}});b.data.success?(d((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-green-600 font-semibold text-lg mb-2",children:b.data.message}),(0,i.jsx)("div",{className:"relative w-full h-2 rounded-full overflow-hidden bg-green-200 mt-4",children:(0,i.jsx)("div",{className:"absolute top-0 left-0 h-full bg-green-500 animate-progress-bar2",style:{animationDuration:"0.5s"}})})]})),F()):(d((0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-red-600 font-semibold text-lg mb-2",children:b.data.message}),(0,i.jsx)("div",{className:"relative w-full h-2 rounded-full overflow-hidden bg-red-200 mt-4",children:(0,i.jsx)("div",{className:"absolute top-0 left-0 h-full bg-red-500 animate-progress-bar2",style:{animationDuration:"0.5s"}})})]})),F()),r({name:"",othername:"",category:"",MRP:"",salingprice:"",Serialrequired:""})}catch(a){console.error("Error:",a)}},className:"mt-4 px-4 py-2 bg-blue-500 w-[50%] text-white rounded-md",children:"Add Product"})})]})})}}}]);
//# sourceMappingURL=846.4425059a.chunk.js.map