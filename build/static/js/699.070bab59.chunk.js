"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[699],{9699:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var a=l(5043),r=l(6213),s=l(2684),i=l(579);function o(e){const[t,l]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[m,u]=(0,a.useState)(null),h="http://127.0.0.1:5000",{userrole:x}=(0,a.useContext)(s.A);(0,a.useEffect)((()=>{g(),p()}),[]);let g=()=>{let e=localStorage.getItem("token");r.A.get(`${h}/api/courier/fetchallcourier`,{method:"GET",headers:{authtoken:e}}).then((e=>{c(!1),l(e.data)})).catch((e=>{u(e),c(!1)}))},p=()=>{let e=localStorage.getItem("token");r.A.get(`${h}/api/courier/fetchallcourierdetail`,{method:"GET",headers:{authtoken:e}}).then((e=>{c(!1),d(e.data)})).catch((e=>{u(e),c(!1)}))};const[f,v]=(0,a.useState)(null),[b,j]=(0,a.useState)(""),w=e=>{j(e.target.value)};let y=e=>{window.confirm("Do you really want to delete?")&&((e=>{let t=localStorage.getItem("token");r.A.delete(`${h}/api/courier/deletecourier/${e}`,{method:"DELETE",headers:{authtoken:t}}),g()})(e),g())};return n?(0,i.jsx)("p",{children:"Loading..."}):m?(0,i.jsxs)("p",{children:["Error: ",m.message]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"  ",children:(0,i.jsx)("div",{className:"space-y-5 h-[500px] overflow-y-scroll pb-3 mt-3",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-1",children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,i.jsxs)("div",{className:"px-5 py-4 flex items-center justify-between text-gray-800 shadow-lg rounded-lg transition-transform transform hover:scale-105 duration-300 "+(t%3===0?"bg-gradient-to-tr from-blue-400 via-purple-400 to-pink-400":t%3===1?"bg-gradient-to-tr from-yellow-400 via-orange-400 to-red-400":"bg-gradient-to-tr from-green-400 via-teal-400 to-cyan-400"),children:[(0,i.jsx)("div",{className:"flex-1",children:x.canEdit&&f===e._id?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"text",value:b,onChange:w,className:"border border-gray-300 px-3 py-2 font-semibold md:text-sm text-center text-[16px] bg-white text-gray-800 rounded-lg shadow-sm"}),(0,i.jsx)("button",{onClick:()=>(async e=>{try{const t={authtoken:localStorage.getItem("token")},a=await r.A.put(`${h}/api/courier/updatecourier/${e}`,{name:b},{headers:t});200===a.status?(l((t=>t.map((t=>t.id===e?{...t,name:b}:t)))),v(null),g(),j("")):console.error("Failed to update product:",a.status)}catch(m){console.error("Error updating product:",m)}})(e._id),className:"ml-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-2 rounded-lg",children:"Save"})]}):(0,i.jsxs)("div",{className:"font-semibold md:text-sm text-center text-[16px] text-white",children:[e.name,x.canEdit&&(0,i.jsx)("button",{onClick:()=>(e=>{v(e._id),j(e.name)})(e),className:"ml-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-2 rounded-lg",children:"Edit"})]})}),x.canDelete&&(0,i.jsx)("button",{onClick:()=>y(e._id),className:"ml-4 bg-red-500 hover:bg-red-600 h-8 text-white font-bold py-1 px-2 rounded-lg",children:"Delete"})]},e.id)))}),(0,i.jsx)("div",{className:"flex flex-wrap gap-4 mt-6",children:null===o||void 0===o?void 0:o.map(((e,t)=>e._id&&(0,i.jsxs)("div",{className:"shadow-lg rounded-lg p-4 w-full md:w-[45%] lg:w-[32%] transition-transform transform hover:scale-105 duration-300 "+(t%3===0?"bg-gradient-to-tr from-pink-300 via-purple-400 to-indigo-500":t%3===1?"bg-gradient-to-tr from-yellow-300 via-green-400 to-teal-500":"bg-gradient-to-tr from-blue-300 via-purple-400 to-pink-500"),children:[(0,i.jsx)("div",{className:"text-white font-semibold text-lg mb-2",children:e._id}),(0,i.jsxs)("div",{className:"space-y-3 text-white",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"font-medium",children:"Total Shipment"}),(0,i.jsx)("div",{children:e.totalSalesQ})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"font-medium",children:"Total Delivered"}),(0,i.jsx)("div",{children:e.totaldeliverdQ})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"font-medium",children:"Total Lost"}),(0,i.jsx)("div",{children:e.totalLOSTQ})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"font-medium",children:"Total RTO"}),(0,i.jsx)("div",{children:e.totalRTOQ})]})]})]},e._id)))})]})})})})}}}]);
//# sourceMappingURL=699.070bab59.chunk.js.map