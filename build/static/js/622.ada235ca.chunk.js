"use strict";(self.webpackChunkfooter=self.webpackChunkfooter||[]).push([[622],{8622:(e,l,s)=>{s.r(l),s.d(l,{default:()=>t});var a=s(6213),n=s(5043),r=s(2684),d=s(579);function t(e){var l,s;const{singleorderid:t,platformdata:o,fetchplatform:c,userrole:i}=(0,n.useContext)(r.A),[x,h]=(0,n.useState)(!1),[m,u]=(0,n.useState)({}),j="http://127.0.0.1:5000";(0,n.useEffect)((()=>{p(t),c()}),[t]);const p=e=>{let l=localStorage.getItem("token");a.A.get(`${j}/api/order/fetchorderforadmin/${e}`,{method:"GET",headers:{authtoken:l}}).then((e=>{u(e.data)})).catch((e=>{console.error("Error fetching order:",e)}))},g=e=>{const{name:l,value:s}=e.target;u((e=>({...e,[l]:s})))};return(0,d.jsx)("div",{className:"md:w-[85%] lg:w-[90%] w-full px-4 mt-16",children:x?(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();let l=localStorage.getItem("token");a.A.put(`${j}/api/order/updateorder/${t}`,m,{headers:{authtoken:l}}).then((e=>{h(!1),p(t)})).catch((e=>{console.error("Error updating order:",e)}))},className:"bg-white rounded-lg shadow-md p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Order ID:"}),(0,d.jsx)("input",{type:"text",name:"OrderId",value:m.OrderId,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Product:"}),(0,d.jsx)("input",{type:"text",name:"Product",value:m.Product,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Quantity:"}),(0,d.jsx)("input",{type:"number",name:"Quntity",value:m.Quntity,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Platform:"}),(0,d.jsxs)("select",{name:"Platform",onChange:g,value:null===m||void 0===m||null===(l=m.Platform)||void 0===l?void 0:l.name,className:"px-3 py-1 border-black border-[2px] rounded-md",children:[(0,d.jsx)("option",{value:"Platform",children:"Platform"}),o.map((e=>(0,d.jsx)("option",{value:e._id,children:e.name},e._id)))]})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Transfer Price:"}),(0,d.jsx)("input",{type:"number",name:"TransferPrice",value:m.TransferPrice,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Sales Amount:"}),(0,d.jsx)("input",{type:"number",name:"Salesamount",value:m.Salesamount,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Tax:"}),(0,d.jsx)("input",{type:"text",name:"Tax",value:m.Tax,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Payment Mode:"}),(0,d.jsx)("input",{type:"text",name:"Paymentmode",value:m.Paymentmode,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Address:"}),(0,d.jsx)("input",{type:"text",name:"Address",value:m.Address,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Pincode:"}),(0,d.jsx)("input",{type:"number",name:"Pincode",value:m.Pincode,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Mobile No:"}),(0,d.jsx)("input",{type:"text",name:"MobNo",value:m.MobNo,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"State:"}),(0,d.jsx)("input",{type:"text",name:"State",value:m.State,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Bill No:"}),(0,d.jsx)("input",{type:"text",name:"Billno",value:m.Billno,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Bill Date:"}),(0,d.jsx)("input",{type:"date",name:"Billdate",value:m.Billdate,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Tracking Number:"}),(0,d.jsx)("input",{type:"text",name:"trackingnumber",value:m.trackingnumber,onChange:g,className:"border p-2 rounded"})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"font-bold text-gray-800",children:"Status:"}),(0,d.jsx)("input",{type:"text",name:"status",value:m.status,onChange:g,className:"border p-2 rounded"})]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("button",{type:"button",onClick:()=>h(!1),className:"bg-gray-500 text-white p-2 rounded",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:"Save Changes"})]})]}):(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Order ID:"})," ",m.OrderId]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Product:"})," ",m.Product]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Quantity:"})," ",m.Quntity]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Platform:"})," ",null===m||void 0===m||null===(s=m.Platform)||void 0===s?void 0:s.name]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Transfer Price:"})," ",m.TransferPrice]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Sales Amount:"})," ",m.Salesamount]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Tax:"})," ",m.Tax]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Payment Mode:"})," ",m.Paymentmode]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Address:"})," ",m.Address]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Pincode:"})," ",m.Pincode]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Mobile No:"})," ",m.MobNo]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"State:"})," ",m.State]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Bill No:"})," ",m.Billno]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Bill Date:"})," ",m.Billdate]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Tracking Number:"})," ",m.trackingnumber]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"Status:"})," ",m.status]})})]}),i.canEdit&&(0,d.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-500 text-white p-2 rounded",children:"Edit"}),i.canDelete&&(0,d.jsx)("button",{onClick:()=>{(e=>{let l=localStorage.getItem("token");window.confirm("Do you really want to delete?")&&a.A.delete(`${j}/api/order/deleteorder/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",authtoken:l}})})(t)},className:"bg-red-500 ml-3 text-white p-2 rounded",children:"Delete"})]})})}}}]);
//# sourceMappingURL=622.ada235ca.chunk.js.map