{"version":3,"file":"static/js/257.2d938ab5.chunk.js","mappings":"kLAKe,SAASA,EAAMC,GAC1BC,SAASC,KAAKC,MAAMC,gBAAkB,UAErC,MAAMC,EAAS,8BAClBC,QAAQC,IAAIF,GACV,MAAMG,GAAWC,EAAAA,EAAAA,MACXC,EAAQC,aAAaC,QAAQ,UAEnCC,EAAAA,EAAAA,YAAU,KACFH,GAEAF,EAAS,QACb,GACD,CAACA,EAAUE,IAEd,MAAOI,EAAWC,IAAgBC,EAAAA,EAAAA,WAASC,EAAAA,EAAAA,KAAA,YACpCC,EAAWC,IAAgBH,EAAAA,EAAAA,UAAS,CAAEI,SAAU,GAAIC,MAAO,KAoC5DC,EAAYC,IACdJ,EAAa,IAAKD,EAAW,CAACK,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,OAAQ,EAGnE,OAAIhB,GACOO,EAAAA,EAAAA,KAAA,OAAKU,UAAU,yBAAwBC,SAAC,gBAI/CX,EAAAA,EAAAA,KAAA,OAAKU,UAAU,+DAA8DC,UACzEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oDAAmDC,SAAA,EAC9DX,EAAAA,EAAAA,KAAA,MAAIU,UAAU,oDAAmDC,SAAC,WACnEX,EAAAA,EAAAA,KAAA,OAAKU,UAAU,4BAA2BC,SAAEd,KAC3Ce,EAAAA,EAAAA,MAAA,QAAMC,SA9CFC,UAChBR,EAAES,iBACF,MAAM,MAAEX,EAAK,SAAED,GAAaF,EAE5B,IAEI,MAQMe,SARiBC,EAAAA,EAAMC,KAAK,GAAG9B,mBAAyB,CAI1DgB,QACAD,cAGkBgB,KACtB9B,QAAQC,IAAI0B,GAEPA,EAAKI,SAIN/B,QAAQC,IAAI0B,GACZtB,aAAa2B,QAAQ,QAASL,EAAKM,WACnC/B,EAAS,WALTO,EAAakB,EAAKO,SAClBlC,QAAQC,IAAI0B,GAMpB,CAAE,MAAOQ,GACLnC,QAAQmC,MAAM,kCAAmCA,EAErD,GAkByCd,UAAU,YAAWC,SAAA,EAC9CX,EAAAA,EAAAA,KAAA,OAAKU,UAAU,aAAYC,UACvBX,EAAAA,EAAAA,KAAA,SACIyB,KAAK,QACLf,UAAU,2GACVgB,GAAG,qBACH,mBAAiB,YACjBC,SAAUtB,EACVI,MAAOR,EAAUG,MACjBI,KAAK,QACLoB,YAAY,mBAGpB5B,EAAAA,EAAAA,KAAA,OAAKU,UAAU,aAAYC,UACvBX,EAAAA,EAAAA,KAAA,SACIyB,KAAK,WACLjB,KAAK,WACLE,UAAU,2GACViB,SAAUtB,EACVI,MAAOR,EAAUE,SACjBuB,GAAG,WACHE,YAAY,gBAGpB5B,EAAAA,EAAAA,KAAA,UACIyB,KAAK,SACLf,UAAU,+IAA8IC,SAC3J,YAGDX,EAAAA,EAAAA,KAAC6B,EAAAA,GAAI,CAACC,GAAG,kBACLL,KAAK,SACLf,UAAU,kHAAiHC,SAC9H,2BAQrB,C","sources":["component/login.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Login(params) {\r\n    document.body.style.backgroundColor = '#31344f';\r\n\r\n     const apiKey = \"https://bwithf.onrender.com\"\r\n  console.log(apiKey)\r\n    const navigate = useNavigate();\r\n    const token = localStorage.getItem('token');\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            // User is logged in, redirect to home page\r\n            navigate(\"/home\");\r\n        }\r\n    }, [navigate, token]);\r\n\r\n    const [wrongpass, setwrongpass] = useState(<div></div>);\r\n    const [logindata, setlogindata] = useState({ password: \"\", email: \"\" });\r\n\r\n \r\nconst handlelogin = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = logindata;\r\n\r\n    try {\r\n\r\n        const response = await axios.post(`${apiKey}/api/auth/login`, {\r\n\r\n      \r\n\r\n            email,\r\n            password\r\n        });\r\n\r\n        const json = response.data;\r\n        console.log(json)\r\n\r\n        if (!json.success) {\r\n            setwrongpass(json.message);\r\n            console.log(json)\r\n        } else {\r\n            console.log(json)\r\n            localStorage.setItem('token', json.authtoken);\r\n            navigate(\"/home\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"An error occurred during login:\", error);\r\n        // Handle error, e.g., set an error message for the user\r\n    }\r\n};\r\n \r\n \r\n\r\n    const onchange = (e) => {\r\n        setlogindata({ ...logindata, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    if (token) {\r\n        return <div className=\"text-white text-center\">Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex items-center w-full justify-center h-screen bg-gray-900\">\r\n            <div className=\"w-full max-w-sm p-8 bg-white rounded-lg shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold mb-4 text-center text-gray-800\">Login</h2>\r\n               <div className=\"text-red-500 text-[12px] \">{wrongpass}</div> \r\n                <form onSubmit={handlelogin} className=\"space-y-4\">\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                            id=\"exampleInputEmail1\"\r\n                            aria-describedby=\"emailHelp\"\r\n                            onChange={onchange}\r\n                            value={logindata.email}\r\n                            name='email'\r\n                            placeholder=\"Enter email\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"password\"\r\n                            name='password'\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                            onChange={onchange}\r\n                            value={logindata.password}\r\n                            id=\"Password\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"w-full px-4 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                    >\r\n                        Submit\r\n                    </button>\r\n                    <Link to=\"/forgotpassword\"\r\n                        type=\"submit\"\r\n                        className=\"w-full px-4 py-2   text-red-600 font-semibold rounded-md  focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                    >\r\n                        Forgot password\r\n                    </Link>\r\n                </form>\r\n                 \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Login","params","document","body","style","backgroundColor","apiKey","console","log","navigate","useNavigate","token","localStorage","getItem","useEffect","wrongpass","setwrongpass","useState","_jsx","logindata","setlogindata","password","email","onchange","e","target","name","value","className","children","_jsxs","onSubmit","async","preventDefault","json","axios","post","data","success","setItem","authtoken","message","error","type","id","onChange","placeholder","Link","to"],"sourceRoot":""}